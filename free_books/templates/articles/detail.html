{% extends "base.html" %}

{% block content %}
<div class="actions" >
    <div>
        {% trans "Net votes" %}:
        <a href="{% url 'article_vote_index' %}?{% url_set_params article=article.id %}">
            <span id="net-votes">{{ article.net_votes }}</span>
        </a>
    </div>
    <div>
        {% if show_vote %}
        <a href="{% url 'article_vote' article.id %}"
                class="vote onoff {% if not has_upvoted %}on{% endif %}"
                data-type="{{ ArticleVote.LIKE }}"
                data-value="{{ ArticleVote.UPVOTE }}"
                id="upvote-onoff" >
        {% endif %}
                    <span class="on" id="upvote" >{% trans 'Upvote' %}</span>
        {% if show_vote %}
                    <span class="off" id="undo-upvote" >{% trans 'Undo upvote' %}</span>
            </a>
        {% endif %}
        (<a href="{% url 'article_vote_index' %}?{% url_set_params article=article.id value=ArticleVote.UPVOTE %}"
            ><span id="upvote-count">{{ article.upvote_count }}</span
        ></a>)
    </div>
    <div>
        {% if show_vote %}
        <a href="{% url 'article_vote' article.id %}"
                class="vote onoff {% if not has_downvoted %}on{% endif %}"
                data-type="{{ ArticleVote.LIKE }}"
                data-value="{{ ArticleVote.DOWNVOTE }}"
                id="downvote-onoff" >
        {% endif %}
                    <span class="on" id="downvote" >{% trans 'Downvote' %}</span>
        {% if show_vote %}
                    <span class="off" id="undo-downvote" >{% trans 'Undo downvote' %}</span>
            </a>
        {% endif %}
        (<a href="{% url 'article_vote_index' %}?{% url_set_params article=article.id value=ArticleVote.DOWNVOTE %}"
            ><span id="downvote-count">{{ article.downvote_count }}</span
        ></a>)
    </div>
    {% if show_edit %}
        <div><a href="{% url 'article_edit' article.id %}">{% trans 'Edit article' %}</a></div>
    {% endif %}
    {% if show_delete %}
        <form action="{% url 'article_delete' article.id %}" method="post"
                onsubmit="return confirm('{% trans "Are you sure?" %}');">
            {% csrf_token %}
            <input type="submit" value="{% trans "Delete article" %}" />
        </form>
    {% endif %}
</div>
<div class="main">
    <div class="metadata">
        <div>{% trans "Creator" %}: {% user_link article.creator %}</div>
        <div>{% trans "Publish date" %}: {{ article.date_published }}</div>
        <div>{% trans "Last edited" %}: {{ article.last_edited }}</div>
    </div>
    <div class="tags">
        {% include "articles/tags.html" with tags=defined_tags type="defined" label="Defined tags" defined01="1" %}
        {% include "articles/tags.html" with tags=non_defined_tags type="non-defined" label="Non-defined tags" defined01="0" %}
    </div>
    <div class="body">
        {{ body }}
    </div>
<div>
{% endblock %}
